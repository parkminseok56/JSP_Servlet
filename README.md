# Servlet_JSP
## Servlet
- Servlet이란?
  
   - 클라이언트의 요청을 처리하고, 그 결과를 반환하는 Servlet 클래스의 구현 규칙을 지킨 자바 웹 프로그래밍 기술
   - Java 코드 안에 HTML 코드를 넣은 웹을 만들기 위해 필요한 기술임.
   - 클라이언트가 어떠한 요청을 하면 그에 대한 결과를 다시 전송해주어야 하는데, 서블릿은 이러한 역할을 하는 자바로 구현 된 *CGI 자바 프로그램이라고 함. 



*CGI(Common Gateway Interface):  웹서버가 외부 프로그램과 통신하는 방법. 웹사이트에서 동적인 페이지를 만드는 가장 흔하고 간단한 방법. 

------------------------------------------------------------------------------------------------------------------------------------------

- Servlet의 특징

  
  - 클라이언트의 요청에 대해 동적으로 작동하는 웹 어플리케이션 컴포넌트
   
  - html을 사용하여 요청에 응답한다.
   
  - Java Thread를 이용하여 동작한다.
   
  - MVC 패턴에서 Controller로 이용된다.
   
  - HTTP 프로토콜 서비스를 지원하는 javax.servlet.http.HttpServlet 클래스를 상속받는다.
   
  - UDP보다 처리 속도가 느리다.
   
  - HTML 변경 시 Servlet을 재컴파일해야 하는 단점이 있다.


------------------------------------------------------------------------------------------------------------------------------------------
- Servlet 동작 방식
  ![image](https://github.com/parkminseok56/JSP_Servlet/assets/133790403/1201df3f-11fa-4cb7-9de9-ba5afd370d59)


 - 사용자(클라이언트)가 URL을 입력하면 HTTP Request가 Servlet Container로 전송합니다.
 - 요청을 전송받은 Servlet Container는 HttpServletRequest, HttpServletResponse 객체를 생성합니다.
 - web.xml을 기반으로 사용자가 요청한 URL이 어느 서블릿에 대한 요청인지 찾습니다.
 - 해당 서블릿에서 service메소드를 호출한 후 클리아언트의 GET, POST여부에 따라 doGet() 또는 doPost()를 호출합니다.
 - doGet() or doPost() 메소드는 동적 페이지를 생성한 후 HttpServletResponse객체에 응답을 보냅니다.
 - 응답이 끝나면 HttpServletRequest, HttpServletResponse 두 객체를 소멸시킵니다.
  
------------------------------------------------------------------------------------------------------------------------------------------

## Servlet 생명주기

WAS는 서블릿 요청을 받으면 해당 서블릿이 메모리에 있는지 확인합니다.
 if (메모리에 없음) 
 - 해당 서블릿 클래스를 메모리에 올림
   - 1.init() 메소드를 실행

   - 2.service()메소드를 실행
was가 종료되거나, 웹 어플리케이션이 새롭게 갱신될 경우
   - 3.destroy() 메소드가 실행됩니다.

 ![image](https://cphinf.pstatic.net/mooc/20180124_22/1516782982944xjogH_PNG/1_5_3_ServletLifcycle.PNG?type=w760)

------------------------------------------------------------------------------------------------------------------------------------------
## JSP
 - Jsp란 
   - JSP(JavaServer Pages)는 웹 애플리케이션을 개발하기 위한 Java 기반의 웹 프로그래밍 기술임.
   - HTML 코드안에 Java 코드를 넣어서 사용자와 상호작용하며 동적인 웹 애플리케이션을 개발하는 데 사용됨.
   - Jsp가 실행되면 자바 서브릿(servlet)으로 변환되며 웹 어플리케이션 서버(WAS)에서 동작되면서 필요한 기능을 수행함.
   - 파일 변환 순서 :JSP-> Servlet(java) 컴파일-> class 


------------------------------------------------------------------------------------------------------------------------------------------

- JSP의 실행순서
  
  1.브라우저가 웹서버에 JSP에 대한 요청 정보를 전달한다.
  
  2.브라우저가 요청한 JSP가 최초로 요청했을 경우만 JSP로 작성된 코드가 서블릿으로 코드로 변환한다. (java 파일 생성)
  
  3서블릿 코드를 컴파일해서 실행가능한 bytecode로 변환한다. (class 파일 생성)
   
   4.서블릿 클래스를 로딩하고 인스턴스를 생성한다.
   
   5.서블릿이 실행되어 요청을 처리하고 응답 정보를 생성한다.


------------------------------------------------------------------------------------------------------------------------------------------

- JSP 문법
  
1. 선언문
<%! %>


   - 선언문은 JSP 페이지 내에서 필요한 멤버변수나 메소드가 필요할 때 선언해 사용하는 요소
   - 선언문의 문법
<%! 문장 %>


 2.스크립트릿
  <% %>
 
   - 가장 일반적으로 많이 쓰이는 스크립트 요소
  - 주로 프로그래밍의 로직을 기술할 때 사용
   -  스크립트릿에서 선언된 변수는 지역변수
   -  스크립트릿의 문법
    <% 문장%>

3.표현식(Expression)
<%=%>

  - JSP 페이지에서 웹 브라우저에 출력할 부분을 표현 (즉, 화면에 출력하기 위한 것)
  - 스크립트릿내에서 출력할 부분은 내장객체인 out 객체의 print() 또는 println() 메소드를 사용해서 출력
표현식의 문법
<%=문장%>


------------------------------------------------------------------------------------------------------------------------------------------

 - JSP 내장 객체란?
   
   - JSP를 실행하면 서블릿 소스가 생성되고 실행된다.
   -  JSP에 입력한 대부분의 코드는 생성되는 서블릿 소스의 _jspService() 메소드 안에 삽입되는 코드로 생성된다.
   -  jspService()에 삽입된 코드의 윗부분에 미리 선언된 객체들이 있는데, 해당 객체들은 jsp에서도 사용 가능하다.
   -  response, request, application, session, out과 같은 변수를 내장객체라고 한다.
